<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="OriginalFile" content="Installation_RHEL_Oracle_Server_de.docx" />
<meta http-equiv="Content-Language" content="de-DE" />
<meta name="build tags" content="Deutsch" />
<meta name="generator" content="Adobe RoboHelp 2015" />
<title>Einrichten einer Datenbank-Instanz</title>
<link rel="stylesheet" href="../../../../Legato_Systemdokumentation.css" 
 type="text/css" />
<style type="text/css">/*<![CDATA[*/
body {
	background-color: #ffffff;
}
A:visited {
	
}
A:link {
	
}
/*]]>*/</style>
</head>

<body>
<h2>Einrichten einer Datenbank-Instanz</h2>
<p class="BodyText">In diesem Schritt wird eine neue Datenbankinstanz eingerichtet.</p>
<p class="BodyText">Mit dem User oracle kann im Terminal der Datenbank-Konfigurationsassistent 
 aufgerufen werden:</p>
<p class="TextCode"># su oracle</p>
<p class="TextCode">$ cd /u01/app/oracle/product/11.2.0/dbhome_1/bin</p>
<p class="TextCode">$ ./dbca</p>
<p class="BodyText">&#160;</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image050.png" 
						 alt="" width="700" height="502" border="0" /></p>
<p class="BodyText">Klicken Sie auf &quot;Weiter&quot;.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image052.png" 
						 alt="" width="700" height="500" border="0" /></p>
<p class="BodyText">Wählen Sie den Menüpunkt &quot;Datenbank erstellen&quot; 
 und klicken Sie auf &quot;Weiter&quot;.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image054.png" 
						 alt="" width="700" height="500" border="0" /></p>
<p class="BodyText">Wählen Sie &quot;Benutzerdefinierte Datenbank&quot; 
 aus und klicken Sie auf &quot;Weiter&quot;.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image056.png" 
						 alt="" width="700" height="500" border="0" /></p>
<p class="BodyText">Geben Sie den globalen Datenbanknamen ein; im Beispiel 
 &quot;LEGATO&quot;. Die SID wird automatisch befüllt. Klicken Sie dann 
 auf &quot;Weiter&quot;.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image058.png" 
						 alt="" width="700" height="502" border="0" /></p>
<p class="BodyText">Entfernen Sie den Haken in der Checkbox &quot;Configure 
 Enterprise Manager&quot;. Dieser funktioniert nicht zuverlässig. Wechseln 
 Sie nun zum Tab &quot;Automatic Maintenance Tasks&quot;.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image060.png" 
						 alt="" width="700" height="499" border="0" /></p>
<p class="Textkörperfett"><img src="../../../../02_Hinweis_de.jpg" alt="" 
								 style="border: none;" border="0" />:</p>
<p class="TextkörperHinweis">Oracle empfiehlt, die Checkbox &quot;Enable 
 automatic maintenance tasks&quot; anzuhaken. Wie im Text auf dem Tabfolder 
 erläutert, werden als Wartungsaufgaben u. a. diverse Optimizer-Statistiken 
 und automatische Hinweis-Reports für das proaktive Performance-Tuning 
 durchgeführt. Dadurch soll vor allem die Performance von Datenbankabfragen 
 verbessert werden.</p>
<p class="TextkörperHinweis">Zu beachten ist aber, dass diese automatischen 
 Wartungsaufgaben selber wieder Ressourcen verbrauchen (vor allem CPU-Leistung), 
 selbst wenn die CPU-Leistung dafür gedrosselt wird, und damit einen eventuell 
 stattfindenden regulären Produktivbetrieb stark behindern oder sogar zum 
 Erliegen bringen können. Ist das System während einer Nachtschicht aktiv, 
 dann hilft auch das vorgegebene Wartungsfenster (von 22 Uhr abends bis 
 2 Uhr morgens) nicht.</p>
<p class="TextkörperHinweis">Falls die automatischen Wartungsaufgaben den 
 Produktivbetrieb auch nachts (voraussichtlich) zu stark behindern, kann 
 mithilfe des Enterprise Manager das Wartungsfenster auf eine andere, tatsächlich 
 produktionsfreie oder zumindest ruhigere Zeit gelegt werden, z. B. auf 
 den Sonntag. Ist auch das nicht möglich, weil der Produktivbetrieb das 
 System 24/7 (fast) das ganze Jahr über zu stark auslastet, dann kann die 
 Performance-Optimierung entweder nur von Hand angestoßen werden oder es 
 muss eventuell sogar vollständig auf sie verzichtet werden.</p>
<p class="BodyText">Klicken Sie dann auf &quot;Weiter&quot;.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image062.png" 
						 alt="" width="700" height="500" border="0" /></p>
<p class="BodyText">Hier werden nun die wichtigsten Passwörter der Systembenutzer 
 vergeben. Es gibt die Möglichkeit, für alle Systembenutzer unterschiedliche 
 Passwörter zu verwenden oder das gleiche. Auf jeden Fall sollten die Passwörter 
 sicher gewählt und auch sicher abgelegt werden. In unserem Beispiel wählen 
 wir &quot;Dasselbe administrative Kennwort für alle Accounts verwenden&quot; 
 und vergeben ein Passwort. Dieses kann auch nachträglich vom Administrator 
 geändert werden.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image064.png" 
						 alt="" width="419" height="252" border="0" /></p>
<p class="BodyText">Werden die Sicherheitsempfehlungen von Oracle nicht 
 eingehalten, erscheint eine Sicherheitsabfrage, ob Sie fortfahren möchten. 
 Diese kann mit &quot;Ja&quot; bestätigt werden.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image065.png" 
						 alt="" width="700" height="500" border="0" /></p>
<p class="BodyText">Nun kann man eine geeignete Lokation für die Datenbankdateien 
 auswählen. Wenn möglich, sollte diese auf einer separaten Partition liegen, 
 also nicht in der Systempartition. Als &quot;Speichertyp&quot; können 
 Sie die Vorauswahl &quot;Dateisystem&quot; belassen. Wählen Sie &quot;Gemeinsamen 
 Speicherort für alle Datenbankdateien verwenden&quot; aus und selektieren 
 Sie das Laufwerk /u02/app/oracle/oradata. Klicken Sie dann auf &quot;Weiter&quot;.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image067.png" 
						 alt="" width="700" height="437" border="0" /></p>
<p class="BodyText">In dieser Maske kann man den Ort und die Größe des 
 Fast Recovery Bereichs bestimmen.</p>
<p class="Textkörperfett"><img src="../../../../02_Hinweis_de.jpg" alt="" 
								 style="border: none;" border="0" />:</p>
<p class="TextkörperHinweis">Wählen Sie eine ausreichende Größe, da bei 
 Engpässen die Datenbank keine weiteren Transaktionen durchführen kann. 
 Die Datenbank ist damit nicht mehr verfügbar!</p>
<p class="BodyText">Welche Größe im Einzelfall für den Fast Recovery Bereich 
 anzugeben ist, ist vom Datenbank-Administrator festzulegen.</p>
<p class="BodyText">Mit der zweiten Auswahl in dieser Maske kann man bestimmen, 
 ob überhaupt archivierte REDO-Logdateien angelegt werden oder nicht. Mit 
 diesen Dateien ist auch innerhalb von Backups eine sehr gute Wiederherstellung 
 gewährleistet. Dies sollte man jedoch nur für sensible Produktionsumgebungen 
 wählen. Für reine Testumgebungen kann dies auch ausgeschaltet bleiben.</p>
<p class="Textkörperfett"><img src="../../../../02_Hinweis_de.jpg" alt="" 
								 style="border: none;" border="0" />:</p>
<p class="TextkörperHinweis">Bei der Installation und dem Import deaktivieren 
 Sie das Archivieren. Sonst läuft der Speicher zu schnell voll. Aktivieren 
 Sie für sensible Produktionsumgebungen das Archivieren, nachdem die Installation 
 abgeschlossen ist (siehe Kapitel &quot;Archiving aktivieren&quot;).</p>
<p class="BodyText">Im Beispiel setzen wir das Häkchen bei &quot;Fast Recovery 
 Bereich angeben&quot;. Beim &quot;Fast Recovery Bereich&quot; geben wir 
 Folgendes ein: /u03/app/oracle/fast_recovery_area. Die &quot;Größe des 
 Fast Recovery Bereichs&quot; wird auf 50000 MB gesetzt. Nun klicken wir 
 auf &quot;Weiter&quot;.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image069.png" 
						 alt="" width="700" height="437" border="0" /></p>
<p class="BodyText">Auf dieser Seite lassen sich nun die Komponenten auswählen: 
 Es können alle Häkchen entfernt werden.</p>
<p class="BodyText">Im Reiter &quot;Benutzerdefinierte Skripts&quot; ist 
 nichts zu tun. Klicken Sie dann auf &quot;Weiter&quot;.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image071.png" 
						 alt="" width="700" height="436" border="0" /></p>
<p class="BodyText">Als nächstes wird die Größe des physikalischen Hauptspeichers 
 bestimmt, die für diese Datenbank-Instanz reserviert werden soll. Hier 
 muss man bedenken, dass dem Betriebssystem und anderen Applikationen bzw. 
 auch anderen Datenbank-Instanzen genug Platz gelassen werden sollte (also 
 hier zum Beispiel keine Werte einrichten, die mehr als 80% des gesamten 
 Speichers bedeuten würde).</p>
<p class="BodyText">Mit der Einstellung "Use automatic memory management" 
 kümmert sich Oracle selbst darum, wie der Speicher dann intern in der 
 Instanz aufgeteilt wird. Es wird empfohlen, diese Einstellung zu setzen.</p>
<p class="BodyText">Wechseln Sie nun zum Reiter &quot;Skalierung&quot;.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image073.png" 
						 alt="" width="700" height="437" border="0" /></p>
<p class="BodyText">Wählen Sie bitte die Standard-Blockgröße von 8192 Bytes 
 und ca. 200 bis 300 Prozesse auf dieser Seite.</p>
<p class="BodyText">Wählen Sie nun bitte den Reiter &quot;Zeichensätze&quot; 
 aus.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image075.png" 
						 alt="" width="700" height="436" border="0" /></p>
<p class="BodyText">Bitte wählen Sie hier den Zeichensatz UTF8 aus. Dazu 
 muss man zunächst auf die manuelle Auswahl "Wählen Sie aus der Liste mit 
 Zeichensätzen" klicken und dann noch die Option "Nur empfohlene Zeichensätze 
 anzeigen" ausschalten, denn sonst findet man den UTF8-Zeichensatz nicht 
 in der Liste.</p>
<p class="BodyText">Im unteren Teil des Dialogs können die Voreinstellungen 
 übernommen werden.</p>
<p class="BodyText">Wechseln Sie nun in den Reiter &quot;Verbindungsmodus&quot;.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image077.png" 
						 alt="" width="700" height="437" border="0" /></p>
<p class="BodyText">Hier kann die Default-Einstellung übernommen werden.</p>
<p class="BodyText">Öffnen Sie anschließend den Dialog mit den INI-Parametern, 
 indem Sie auf den Button "All Initialization Parameters" klicken. Aktivieren 
 Sie außerdem die Anzeige aller Parameter durch Klick auf den Button &quot;Show 
 Advanced Parameters&quot;.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image079.png" 
						 alt="" width="550" height="650" border="0" /></p>
<p class="BodyText">Ändern Sie nun direkt die Oracle Initialisierungs-Parameter, 
 wie zum Beispiel den Parameter: nls_length_semantics auf CHAR.</p>
<p class="BodyText">Bitte beachten Sie hierzu die aktuellen Hinweise in 
 der Dokumentation Systeminstallation.</p>
<p class="BodyText">Schließen Sie den Dialog über &quot;Schließen&quot; 
 und klicken Sie dann auf &quot;Weiter&quot;.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image080.png" 
						 alt="" width="700" height="482" border="0" /></p>
<p class="BodyText">Nachfolgend werden die Angaben für die Tablespaces 
 und Datenbankdateien vorgenommen.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image082.png" 
						 alt="" width="700" height="484" border="0" /></p>
<p class="BodyText">Selektieren Sie links im Baum den Eintrag &quot;Kontrolldatei&quot;. 
 Damit sind die Steuerdateien der Instanz gemeint.</p>
<p class="Textkörperfett"><img src="../../../../02_Hinweis_de.jpg" alt="" 
								 style="border: none;" border="0" />:</p>
<p class="TextkörperHinweis">Diese Dateien sind sehr wichtig, denn wenn 
 diese zerstört sind, kann die Instanz unter Umständen nicht mehr gestartet 
 werden. Tragen Sie also mehrere Kopien der Kontrolldateien ein.</p>
<p class="BodyText">Eine Kopie erzeugt man automatisch, indem man hier 
 eine weitere Zeile hinzufügt. In diesem Beispiel sind es drei Kopien. 
 Sicherheitshalber sollten diese sogar auf unterschiedlichen Festplatten 
 oder RAID-Systemen liegen.</p>
<p class="BodyText">Bitte ergänzen Sie auch den Namen der Instanz vor dem 
 Dateinamen (also LEGATO).</p>
<p class="BodyText">Selektieren Sie links im Baum den Eintrag &quot;Tablespaces&quot;.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image084.png" 
						 alt="" width="700" height="483" border="0" /></p>
<p class="BodyText">In der Liste der Tablespaces sollten diese fünf Einträge 
 erscheinen. Bitte klicken Sie auf "Erstellen", um einen weiteren Tablespace 
 zu definieren. Für weitere Informationen zu den Tablespaces siehe bitte 
 auch die Dokumentation Systeminstallation.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image086.png" 
						 alt="" width="492" height="520" border="0" /></p>
<p class="BodyText">Danach erscheint eine neue Maske zum Anlegen des neuen 
 Tablespaces. Bitte tragen Sie als Namen "LEGATO_DAT" und beim Filenamen 
 "legato_dat.dbf" ein und ändern Sie die Anfangsgröße auf 1000 MB. Anschließend 
 klicken Sie bitte auf &quot;Datendatei bearbeiten&quot; (Stiftsymbol) 
 und wählen Sie in der nachfolgenden Maske den Reiter &quot;Speicher&quot;:</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image087.png" 
						 alt="" width="412" height="451" border="0" /></p>
<p class="BodyText">Bitte aktivieren Sie die Option "Datendatei automatisch 
 ..."</p>
<p class="BodyText">Damit wird ein automatisches Anwachsen des Tablespaces 
 aktiviert. Wählen Sie als Erweiterung immer mindestens 64 Megabytes.</p>
<p class="BodyText">Zusätzlich wird hier die Maximalgröße definiert, indem 
 man einen &quot;Maximum Size Value&quot; einträgt. In diesem Beispiel 
 sind dies 20.000 Megabytes.</p>
<p class="BodyText">Das heißt, dieser Tablespace kann zwar wachsen, aber 
 nur bis 20.000 Megabytes.</p>
<p class="BodyText">Klicken Sie anschließend OK und wiederholen Sie diese 
 Schritte für den Tablespace LEGATO_IDX.</p>
<p class="BodyText">Es sollten danach die folgenden sieben Tablespaces 
 in der Liste erscheinen.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image088.png" 
						 alt="" width="700" height="483" border="0" /></p>
<p class="BodyText">Klicken Sie nun auf &quot;Datendateien&quot;.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image090.png" 
						 alt="" width="700" height="388" border="0" /></p>
<p class="BodyText">Ergänzen Sie manuell bei allen den Namen mit dem Instanznamen, 
 also in diesem Fall "legato". Die anderen Einstellungen von den System-Tablespaces 
 sollten nicht verändert werden.</p>
<p class="BodyText">Selektieren Sie dann &quot;Redo Log-Gruppen&quot;.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image092.png" 
						 alt="" width="700" height="474" border="0" /></p>
<p class="BodyText">Bitte erstellen Sie nun mindestens fünf Redo-Loggruppen 
 mit jeweils zwei Mitgliedern. Ändern Sie die Dateinamen auf "legato_redo01a.rdo". 
 Dies ist sicherer als diese bei ".log" zu belassen, da *.log Dateien gern 
 gelöscht werden.</p>
<p class="BodyText">Bitte beachten Sie, dass alle Log-Gruppen die gleiche 
 Größe haben müssen!</p>
<p class="BodyText">Außerdem wird empfohlen, die Kopie der Logdateien immer 
 auf unterschiedlichen Laufwerken zu speichern.</p>
<p class="BodyText">Klicken Sie nun bitte auf &quot;Weiter&quot;, um zum 
 letzten Schritt zu kommen.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image094.png" 
						 alt="" width="700" height="475" border="0" /></p>
<p class="BodyText">Hier sollte man immer die Optionen "Save as DB Template" 
 und "Generate Scripts" einschalten, damit man ein Template für spätere 
 Verwendung hat und die Skripte für Fehlerfälle. Somit kann man später 
 gegebenenfalls fehlerhafte Installationen noch einmal stückweise nachkorrigieren.</p>
<p class="BodyText">Klicken Sie dann bitte auf "Beenden".</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image096.png" 
						 alt="" width="601" height="612" border="0" /></p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image097.png" 
						 alt="" width="600" height="613" border="0" /></p>
<p class="BodyText">Kontrollieren Sie anschließend noch einmal sehr sorgfältig 
 die Zusammenfassung.</p>
<p class="BodyText">Wenn Sie in der Zusammenfassung keinen Fehler mehr 
 entdecken konnten, drücken Sie auf "OK". Anschließend beginnt die Einrichtung 
 der Datenbank-Instanz.</p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image098.png" 
						 alt="" width="610" height="426" border="0" /></p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image099.png" 
						 alt="" width="610" height="425" border="0" /></p>
<p class="BodyText"><img src="../../../../Images/Oracle_Server/RHEL_64_11g/image100.png" 
						 alt="" width="607" height="518" border="0" /></p>
<p class="BodyText">Nachdem die Installation vollständig abgeschlossen 
 ist, wird die Firewall wieder eingeschaltet mit</p>
<p class="TextCode"># service iptables start</p>
<p class="TextCode">&#160;</p>
</body>
</html>
