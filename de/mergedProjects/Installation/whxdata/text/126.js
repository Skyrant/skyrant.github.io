rh._.exports({"1":[["\n"],["\n"],["\n","We will now see how to run \n Tomcat as a service and create a simple Start/Stop/Restart script, as \n well as to start Tomcat at boot.","\n","Change to the /etc/init.d \n directory and create a script called 'tomcat' as shown below.","\n","[root@localhost share]# cd /etc/init.d  ","\n","[root@localhost init.d]# vi tomcat","\n"," ","\n","And here is the script we will use.","\n","#!/bin/bash","\n","# description: Tomcat Start Stop Restart","\n","# processname: tomcat","\n","# chkconfig: 234 20 80","\n","JAVA_HOME=/usr/java/jdk1.7.0_45","\n","export"," JAVA_HOME","\n","PATH=$JAVA_HOME/bin:$PATH","\n","export"," PATH","\n","CATALINA_HOME=/usr/share/apache-tomcat-7.0.42","\n"," ","\n","case"," $1 ","in","\n","start)","\n","sh $CATALINA_HOME/bin/startup.sh","\n",";;","\n","stop)","\n","sh $CATALINA_HOME/bin/shutdown.sh","\n",";;","\n","restart)","\n","sh $CATALINA_HOME/bin/shutdown.sh","\n","sh $CATALINA_HOME/bin/startup.sh","\n",";;","\n","esac","\n","exit 0","\n"," ","\n","The above script is simple \n and contains all of the basic elements you will need to get going.","\n","As you can see, we are simply \n calling the startup.sh and shutdown.sh scripts located in the Tomcat bin \n directory (/usr/share/apache-tomcat-7.0.42/bin).","\n","You can adjust your script \n according to your needs. CATALINA_HOME is the Tomcat home directory (/usr/share/apache-tomcat-7.0.42)","\n"],["\n","Now, set the permissions for your script to make it \n executable:","\n","[root@localhost init.d]# chmod 755 tomcat","\n"," ","\n","We now use the chkconfig utility to have Tomcat start \n at boot time. In my script above, I am using chkconfig: 234 20 80. 2345 \n are the run levels and 20 and 80 are the stop and start priorities respectively. \n You can adjust as needed.","\n","[root@localhost init.d]# chkconfig --add tomcat","\n","[root@localhost init.d]# chkconfig --level 2345 tomcat on","\n"," ","\n","Verify it:","\n","[root@localhost init.d]# chkconfig --list tomcat","\n","tomcat          0:off   1:off   2:on    3:on    4:on    5:off   6:off","\n"," ","\n"],["\n"],["\n","[root@localhost ~]# service tomcat start","\n","Using CATALINA_BASE:   /usr/share/apache-tomcat-7.0.42","\n","Using CATALINA_HOME:   /usr/share/apache-tomcat-7.0.42","\n","Using CATALINA_TMPDIR: /usr/share/apache-tomcat-7.0.42/temp","\n","Using JRE_HOME:        /usr/java/jdk1.7.0_45","\n","Using CLASSPATH:       /usr/share/apache-tomcat-7.0.42/bin/bootstrap.jar:/usr/share/apache-tomcat-7.0.42/bin/tomcat-juli.jar","\n"," ","\n"],["\n","[root@localhost ~]# service tomcat stop","\n","Using CATALINA_BASE:   /usr/share/apache-tomcat-7.0.42","\n","Using CATALINA_HOME:   /usr/share/apache-tomcat-7.0.42","\n","Using CATALINA_TMPDIR: /usr/share/apache-tomcat-7.0.42/temp","\n","Using JRE_HOME:        /usr/java/jdk1.7.0_45","\n","Using CLASSPATH:       /usr/share/apache-tomcat-7.0.42/bin/bootstrap.jar:/usr/share/apache-tomcat-7.0.42/bin/tomcat-juli.jar","\n"," ","\n"],["\n","[root@localhost ~]# service tomcat restart","\n","Using CATALINA_BASE:   /usr/share/apache-tomcat-7.0.42","\n","Using CATALINA_HOME:   /usr/share/apache-tomcat-7.0.42","\n","Using CATALINA_TMPDIR: /usr/share/apache-tomcat-7.0.42/temp","\n","Using JRE_HOME:        /usr/java/jdk1.7.0_45","\n","Using CLASSPATH:       /usr/share/apache-tomcat-7.0.42/bin/bootstrap.jar:/usr/share/apache-tomcat-7.0.42/bin/tomcat-juli.jar","\n","Using CATALINA_BASE:   /usr/share/apache-tomcat-7.0.42","\n","Using CATALINA_HOME:   /usr/share/apache-tomcat-7.0.42","\n","Using CATALINA_TMPDIR: /usr/share/apache-tomcat-7.0.42/temp","\n","Using JRE_HOME:        /usr/java/jdk1.7.0_45","\n","Using CLASSPATH:       /usr/share/apache-tomcat-7.0.42/bin/bootstrap.jar:/usr/share/apache-tomcat-7.0.42/bin/tomcat-juli.jar","\n"," ","\n","We should review the Catalina.out log located at /usr/share/apache-tomcat-7.0.29/logs/catalina.out \n and check for any errors.","\n","[root@localhost init.d]# more /usr/share/apache-tomcat-7.0.29/logs/catalina.out","\n"," ","\n","We can now access the Tomcat Manager page at:","\n","http://yourdomain.com:8080 or http://yourIPaddress:8080 \n and we should see the Tomcat home page.","\n","\n\n\n"]],"2":[["Configure Tomcat to Run as a Service"]],"3":[["Create Script"],["Set Permissions"],["Test the Script"]],"4":[["Configure Tomcat to Run as a Service"]],"6":[["Start Tomcat:"],["Stop Tomcat:"],["Restarting \n Tomcat (Must be started first):"]],"id":"126"})